{% extends 'base.html' %}
{% block content %}
<div class="container mx-auto px-4 sm:px-6 lg:px-8">
    {% if messages %}
    <div id="success-message" class="mt-4 bg-green-500 text-white p-4 rounded-md">
        <h3 class="font-semibold">Success:</h3>
        <ul>
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="md:col-span-2">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                {% if user.is_accepted %}
                    {% if rooms %}
                        {% for room in rooms %}
                            <a href="{% url 'accommodations:room_detail' room.pk %}" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-orange-500 to-yellow-600 hover:bg-gradient-to-l hover:from-orange-600 hover:to-yellow-700 transition duration-300 md:col-span-2">
                                <h2 class="text-2xl font-bold text-white mb-2">My Room</h2>
                                <p class="text-gray-200">Room details, students in the room, room items state</p>
                            </a>
                        {% endfor %}
                    {% else %}
                        <div class="block p-6 rounded-lg shadow-md bg-gray-200 md:col-span-2 md:row-span-2">
                            <h2 class="text-2xl font-bold text-gray-600 mb-2">No Room Available</h2>
                            <p class="text-gray-500">You do not have a room assigned yet.</p>
                        </div>
                    {% endif %}

                    <a href="{% url 'accommodations:room_reservation' %}" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-indigo-500 to-purple-600 hover:bg-gradient-to-l hover:from-indigo-600 hover:to-purple-700 transition duration-300">
                        <h2 class="text-2xl font-bold text-white mb-2">Room Reservation</h2>
                        <p class="text-gray-200">Reserve a room for your stay</p>
                    </a>
                    <a href="{% url 'accommodations:activities' %}" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-green-500 to-teal-600 hover:bg-gradient-to-l hover:from-green-600 hover:to-teal-700 transition duration-300">
                        <h2 class="text-2xl font-bold text-white mb-2">Resident Activities</h2>
                        <p class="text-gray-200">Join exciting activities</p>
                    </a>
                    <a href="{% url 'accommodations:complaint' %}" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-red-500 to-pink-600 hover:bg-gradient-to-l hover:from-red-600 hover:to-pink-700 transition duration-300">
                        <h2 class="text-2xl font-bold text-white mb-2">Fill a Complaint</h2>
                        <p class="text-gray-200">File a complaint if needed</p>
                    </a>
                    <a href="{% url 'accommodations:visitor' %}" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-blue-500 to-indigo-600 hover:bg-gradient-to-l hover:from-blue-600 hover:to-indigo-700 transition duration-300">
                        <h2 class="text-2xl font-bold text-white mb-2">Visitor Management</h2>
                        <p class="text-gray-200">Manage visitor access</p>
                    </a>
                    <a href="{% url 'accommodations:maintainance' %}" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-yellow-500 to-orange-600 hover:bg-gradient-to-l hover:from-yellow-600 hover:to-orange-700 transition duration-300">
                        <h2 class="text-2xl font-bold text-white mb-2">Maintenance Requests</h2>
                        <p class="text-gray-200">Request maintenance services</p>
                    </a>
                    <a href="{% url 'accommodations:feedback_survey' %}" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-orange-500 to-yellow-600 hover:bg-gradient-to-l hover:from-orange-600 hover:to-yellow-700 transition duration-300">
                        <h2 class="text-2xl font-bold text-white mb-2">Feedback and Surveys</h2>
                        <p class="text-gray-200">Provide feedback and participate in surveys</p>
                    </a>
                {% else %}
                    <div class="block p-6 rounded-lg shadow-md bg-gray-200 md:col-span-2">
                        <h2 class="text-2xl font-bold text-gray-600 mb-2">Application Pending</h2>
                        <p class="text-gray-500">Your application is under review. Please check back later.</p>
                    </div>
                {% endif %}
            </div>
        </div>
        
        <!-- Third Column: Additional Features -->
        <div class="grid grid-cols-1 gap-6">
            {% if user.is_accepted and rooms %}
                <a href="#" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-purple-500 to-indigo-600 hover:bg-gradient-to-l hover:from-purple-600 hover:to-indigo-700 transition duration-300">
                    <h2 class="text-2xl font-bold text-white mb-2">Resource Booking</h2>
                    <p class="text-gray-200">Book resources like study rooms</p>
                </a>
                <a href="#" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-teal-500 to-green-600 hover:bg-gradient-to-l hover:from-teal-600 hover:to-green-700 transition duration-300">
                    <h2 class="text-2xl font-bold text-white mb-2">Community Forums</h2>
                    <p class="text-gray-200">Engage with the community</p>
                </a>
                <a href="#" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-pink-500 to-red-600 hover:bg-gradient-to-l hover:from-pink-600 hover:to-red-700 transition duration-300">
                    <h2 class="text-2xl font-bold text-white mb-2">Emergency Alerts</h2>
                    <p class="text-gray-200">Stay informed about emergencies</p>
                </a>
                <a href="#" class="block p-6 rounded-lg shadow-md bg-gradient-to-r from-indigo-500 to-blue-600 hover:bg-gradient-to-l hover:from-indigo-600 hover:to-blue-700 transition duration-300">
                    <h2 class="text-2xl font-bold text-white mb-2">Transportation Information</h2>
                    <p class="text-gray-200">Get transportation details</p>
                </a>
            {% else %}
                <div class="block p-6 rounded-lg shadow-md bg-gray-200">
                    <h2 class="text-2xl font-bold text-gray-600 mb-2">Access Restricted</h2>
                    <p class="text-gray-500">These features are available after room assignment.</p>
                </div>
            {% endif %}
        </div>
    </div>
    </div>
<script>
    // Automatically hide success message after 10 seconds
    setTimeout(function() {
        var successMessage = document.getElementById('success-message');
        if (successMessage) {
            successMessage.style.display = 'none';
        }
    }, 10000);
</script>
{% endblock %}
